<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QIR Adaptor Tool: microsoft::quantum::TransformationRulesPass Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QIR Adaptor Tool
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>microsoft</b></li><li class="navelem"><b>quantum</b></li><li class="navelem"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html">TransformationRulesPass</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">microsoft::quantum::TransformationRulesPass Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_transformation_rules_pass_8hpp_source.html">TransformationRulesPass/TransformationRulesPass.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for microsoft::quantum::TransformationRulesPass:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:af0a45129ba9202ac90347601f719134f"><td class="memItemLeft" align="right" valign="top"><a id="af0a45129ba9202ac90347601f719134f"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Replacements</b> = <a class="el" href="classmicrosoft_1_1quantum_1_1_replacement_rule.html#aca9c759c6f4aace29dc3b0b3b05ce9e1">ReplacementRule::Replacements</a></td></tr>
<tr class="separator:af0a45129ba9202ac90347601f719134f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b814f3af3684d6b66f405b516d33981"><td class="memItemLeft" align="right" valign="top"><a id="a5b814f3af3684d6b66f405b516d33981"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Instruction</b> = llvm::Instruction</td></tr>
<tr class="separator:a5b814f3af3684d6b66f405b516d33981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8768343b0fa26c376f2098a313a4ee"><td class="memItemLeft" align="right" valign="top"><a id="abf8768343b0fa26c376f2098a313a4ee"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Rules</b> = std::vector&lt; <a class="el" href="classmicrosoft_1_1quantum_1_1_replacement_rule.html">ReplacementRule</a> &gt;</td></tr>
<tr class="separator:abf8768343b0fa26c376f2098a313a4ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7507d540699f7033bcb6aeb37a0a1755"><td class="memItemLeft" align="right" valign="top"><a id="a7507d540699f7033bcb6aeb37a0a1755"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Value</b> = llvm::Value</td></tr>
<tr class="separator:a7507d540699f7033bcb6aeb37a0a1755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc84138fb75565886b7f8c586827be5"><td class="memItemLeft" align="right" valign="top"><a id="a8dc84138fb75565886b7f8c586827be5"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Builder</b> = <a class="el" href="classmicrosoft_1_1quantum_1_1_replacement_rule.html#ab975e38f598fc4e3a84039f84ab404d1">ReplacementRule::Builder</a></td></tr>
<tr class="separator:a8dc84138fb75565886b7f8c586827be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b426f8ca398834a0904d11e182d810d"><td class="memItemLeft" align="right" valign="top"><a id="a0b426f8ca398834a0904d11e182d810d"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>AllocationManagerPtr</b> = <a class="el" href="classmicrosoft_1_1quantum_1_1_i_allocation_manager.html#a7c77d7b2d94d3b6a98bb5402a854cca4">IAllocationManager::AllocationManagerPtr</a></td></tr>
<tr class="separator:a0b426f8ca398834a0904d11e182d810d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529fcc11a8a71893a98d5a967c400016"><td class="memItemLeft" align="right" valign="top"><a id="a529fcc11a8a71893a98d5a967c400016"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Captures</b> = RuleSet::Captures</td></tr>
<tr class="separator:a529fcc11a8a71893a98d5a967c400016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ac388be0bc998c320576e5c659ff91"><td class="memItemLeft" align="right" valign="top"><a id="a07ac388be0bc998c320576e5c659ff91"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>ConstantArguments</b> = std::unordered_map&lt; std::string, llvm::ConstantInt * &gt;</td></tr>
<tr class="separator:a07ac388be0bc998c320576e5c659ff91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bf7939cea62871c46f2831c7d4bd08"><td class="memItemLeft" align="right" valign="top"><a id="ab1bf7939cea62871c46f2831c7d4bd08"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>ILoggerPtr</b> = std::shared_ptr&lt; <a class="el" href="classmicrosoft_1_1quantum_1_1_i_logger.html">ILogger</a> &gt;</td></tr>
<tr class="separator:ab1bf7939cea62871c46f2831c7d4bd08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96436bab68086f9477de7cb38a7ba6d2"><td class="memItemLeft" align="right" valign="top"><a id="a96436bab68086f9477de7cb38a7ba6d2"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>DeletableInstructions</b> = std::vector&lt; llvm::Instruction * &gt;</td></tr>
<tr class="separator:a96436bab68086f9477de7cb38a7ba6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c02846dcce74acafbecaebab953224f"><td class="memItemLeft" align="right" valign="top"><a id="a5c02846dcce74acafbecaebab953224f"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>InstructionModifier</b> = std::function&lt; llvm::Value *(llvm::Value *, DeletableInstructions &amp;)&gt;</td></tr>
<tr class="separator:a5c02846dcce74acafbecaebab953224f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad2be262fef91d79effa0b39af820967a"><td class="memItemLeft" align="right" valign="top"><a id="ad2be262fef91d79effa0b39af820967a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#ad2be262fef91d79effa0b39af820967a">TransformationRulesPass</a> (<a class="el" href="classmicrosoft_1_1quantum_1_1_rule_set.html">RuleSet</a> &amp;&amp;rule_set, <a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass_configuration.html">TransformationRulesPassConfiguration</a> const &amp;config, <a class="el" href="classmicrosoft_1_1quantum_1_1_profile.html">Profile</a> *profile)</td></tr>
<tr class="memdesc:ad2be262fef91d79effa0b39af820967a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom default constructor. <br /></td></tr>
<tr class="separator:ad2be262fef91d79effa0b39af820967a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4021ba207d45c28c5f844a2ffab41d5f"><td class="memItemLeft" align="right" valign="top"><a id="a4021ba207d45c28c5f844a2ffab41d5f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a4021ba207d45c28c5f844a2ffab41d5f">TransformationRulesPass</a> (<a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html">TransformationRulesPass</a> const &amp;)=delete</td></tr>
<tr class="memdesc:a4021ba207d45c28c5f844a2ffab41d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy construction is banned. <br /></td></tr>
<tr class="separator:a4021ba207d45c28c5f844a2ffab41d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8180e267b570649b10ea8c900b578f30"><td class="memItemLeft" align="right" valign="top"><a id="a8180e267b570649b10ea8c900b578f30"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a8180e267b570649b10ea8c900b578f30">TransformationRulesPass</a> (<a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html">TransformationRulesPass</a> &amp;&amp;)=default</td></tr>
<tr class="memdesc:a8180e267b570649b10ea8c900b578f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">We allow move semantics. <br /></td></tr>
<tr class="separator:a8180e267b570649b10ea8c900b578f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08deb76861a6aa5d8fb3918d6e8b2739"><td class="memItemLeft" align="right" valign="top"><a id="a08deb76861a6aa5d8fb3918d6e8b2739"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a08deb76861a6aa5d8fb3918d6e8b2739">~TransformationRulesPass</a> ()=default</td></tr>
<tr class="memdesc:a08deb76861a6aa5d8fb3918d6e8b2739"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destruction. <br /></td></tr>
<tr class="separator:a08deb76861a6aa5d8fb3918d6e8b2739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf8a44eebe50e5141a1f9f088c1fa8ff"><td class="memItemLeft" align="right" valign="top"><a id="acf8a44eebe50e5141a1f9f088c1fa8ff"></a>
<a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html">TransformationRulesPass</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#acf8a44eebe50e5141a1f9f088c1fa8ff">operator=</a> (<a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html">TransformationRulesPass</a> const &amp;)=delete</td></tr>
<tr class="memdesc:acf8a44eebe50e5141a1f9f088c1fa8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assignment is banned. <br /></td></tr>
<tr class="separator:acf8a44eebe50e5141a1f9f088c1fa8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058805fa119b33e409c40cdc8787a6f8"><td class="memItemLeft" align="right" valign="top"><a id="a058805fa119b33e409c40cdc8787a6f8"></a>
<a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html">TransformationRulesPass</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a058805fa119b33e409c40cdc8787a6f8">operator=</a> (<a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html">TransformationRulesPass</a> &amp;&amp;)=default</td></tr>
<tr class="memdesc:a058805fa119b33e409c40cdc8787a6f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assignment is permitted. <br /></td></tr>
<tr class="separator:a058805fa119b33e409c40cdc8787a6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00addfd679de49affe569810b6cd79f3"><td class="memItemLeft" align="right" valign="top">llvm::PreservedAnalyses&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a00addfd679de49affe569810b6cd79f3">run</a> (llvm::Module &amp;module, llvm::ModuleAnalysisManager &amp;mam)</td></tr>
<tr class="separator:a00addfd679de49affe569810b6cd79f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acddcbb6d2c3664db23f00db0f5138ea3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#acddcbb6d2c3664db23f00db0f5138ea3">runOnFunction</a> (llvm::Function &amp;function, InstructionModifier const &amp;modifier)</td></tr>
<tr class="separator:acddcbb6d2c3664db23f00db0f5138ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a631e532b56a74f4682d4de8a78cb2"><td class="memItemLeft" align="right" valign="top"><a id="a11a631e532b56a74f4682d4de8a78cb2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a11a631e532b56a74f4682d4de8a78cb2">processReplacements</a> ()</td></tr>
<tr class="memdesc:a11a631e532b56a74f4682d4de8a78cb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies each of the replacements in the <code>replacements_</code> variable. <br /></td></tr>
<tr class="separator:a11a631e532b56a74f4682d4de8a78cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb589b31225635c588c08456b593d72"><td class="memItemLeft" align="right" valign="top"><a id="a0eb589b31225635c588c08456b593d72"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a0eb589b31225635c588c08456b593d72">setupCopyAndExpand</a> ()</td></tr>
<tr class="memdesc:a0eb589b31225635c588c08456b593d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration function for copy and expand to setup the necessary rules. <br /></td></tr>
<tr class="separator:a0eb589b31225635c588c08456b593d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc26444e98922ba682254232d46be841"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#adc26444e98922ba682254232d46be841">runCopyAndExpand</a> (llvm::Module &amp;module, llvm::ModuleAnalysisManager &amp;mam)</td></tr>
<tr class="separator:adc26444e98922ba682254232d46be841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a213929ddf4a326cc4f0e049c402ab9af"><td class="memItemLeft" align="right" valign="top">llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a213929ddf4a326cc4f0e049c402ab9af">copyAndExpand</a> (llvm::Value *input, DeletableInstructions &amp;)</td></tr>
<tr class="separator:a213929ddf4a326cc4f0e049c402ab9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b21ae47a34ac3db1662812b8f20a68"><td class="memItemLeft" align="right" valign="top"><a id="af7b21ae47a34ac3db1662812b8f20a68"></a>
llvm::Function *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#af7b21ae47a34ac3db1662812b8f20a68">expandFunctionCall</a> (llvm::Function &amp;callee, ConstantArguments const &amp;const_args={})</td></tr>
<tr class="memdesc:af7b21ae47a34ac3db1662812b8f20a68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the function body and replace function arguments whenever arguments are constant. <br /></td></tr>
<tr class="separator:af7b21ae47a34ac3db1662812b8f20a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e09cd930eff6dd76c11f2cbe8f426fa"><td class="memItemLeft" align="right" valign="top"><a id="a0e09cd930eff6dd76c11f2cbe8f426fa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a0e09cd930eff6dd76c11f2cbe8f426fa">constantFoldFunction</a> (llvm::Function &amp;callee)</td></tr>
<tr class="memdesc:a0e09cd930eff6dd76c11f2cbe8f426fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Folds all constant expression in function. <br /></td></tr>
<tr class="separator:a0e09cd930eff6dd76c11f2cbe8f426fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12db5661405c6b172188fc145eaf4582"><td class="memItemLeft" align="right" valign="top"><a id="a12db5661405c6b172188fc145eaf4582"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#a12db5661405c6b172188fc145eaf4582">addConstExprRule</a> (<a class="el" href="classmicrosoft_1_1quantum_1_1_replacement_rule.html">ReplacementRule</a> &amp;&amp;rule)</td></tr>
<tr class="memdesc:a12db5661405c6b172188fc145eaf4582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to create replacements for constant expressions. <br /></td></tr>
<tr class="separator:a12db5661405c6b172188fc145eaf4582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f2dabdac85110b1cfba2dbe642d6c6"><td class="memItemLeft" align="right" valign="top"><a id="a52f2dabdac85110b1cfba2dbe642d6c6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>runDetectActiveCode</b> (llvm::Module &amp;module, llvm::ModuleAnalysisManager &amp;mam)</td></tr>
<tr class="separator:a52f2dabdac85110b1cfba2dbe642d6c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5cc37e351fdd49382fdebafcb98d2b3"><td class="memItemLeft" align="right" valign="top"><a id="ae5cc37e351fdd49382fdebafcb98d2b3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>runDeleteDeadCode</b> (llvm::Module &amp;module, llvm::ModuleAnalysisManager &amp;mam)</td></tr>
<tr class="separator:ae5cc37e351fdd49382fdebafcb98d2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43309dc425d43456f06abaf4eb55999"><td class="memItemLeft" align="right" valign="top"><a id="ab43309dc425d43456f06abaf4eb55999"></a>
llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><b>detectActiveCode</b> (llvm::Value *input, DeletableInstructions &amp;)</td></tr>
<tr class="separator:ab43309dc425d43456f06abaf4eb55999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c328d9003c914726e99201f854c5a59"><td class="memItemLeft" align="right" valign="top"><a id="a2c328d9003c914726e99201f854c5a59"></a>
llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><b>deleteDeadCode</b> (llvm::Value *input, DeletableInstructions &amp;)</td></tr>
<tr class="separator:a2c328d9003c914726e99201f854c5a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c4210fc38ebf4bea3c9ce4704eba7a"><td class="memItemLeft" align="right" valign="top"><a id="a09c4210fc38ebf4bea3c9ce4704eba7a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isActive</b> (llvm::Value *value) const</td></tr>
<tr class="separator:a09c4210fc38ebf4bea3c9ce4704eba7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b76d2e69bd1db38df96227b177c23b0"><td class="memItemLeft" align="right" valign="top"><a id="a1b76d2e69bd1db38df96227b177c23b0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>followUsers</b> (llvm::Value *value)</td></tr>
<tr class="separator:a1b76d2e69bd1db38df96227b177c23b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec2f95af82310283c7ec1457fea6f7e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#aec2f95af82310283c7ec1457fea6f7e7">runReplacePhi</a> (llvm::Module &amp;module, llvm::ModuleAnalysisManager &amp;mam)</td></tr>
<tr class="separator:aec2f95af82310283c7ec1457fea6f7e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae969e346542cbbe0902e2f1a93d563db"><td class="memItemLeft" align="right" valign="top"><a id="ae969e346542cbbe0902e2f1a93d563db"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>runApplyRules</b> (llvm::Module &amp;module, llvm::ModuleAnalysisManager &amp;mam)</td></tr>
<tr class="separator:ae969e346542cbbe0902e2f1a93d563db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a884450ed469cd68d650311179c022f2f"><td class="memItemLeft" align="right" valign="top"><a id="a884450ed469cd68d650311179c022f2f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>onQubitRelease</b> (llvm::Instruction *instruction, Captures &amp;captures)</td></tr>
<tr class="separator:a884450ed469cd68d650311179c022f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480b9c053224192ecc6dcb19f909883e"><td class="memItemLeft" align="right" valign="top"><a id="a480b9c053224192ecc6dcb19f909883e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>onQubitAllocate</b> (llvm::Instruction *instruction, Captures &amp;captures)</td></tr>
<tr class="separator:a480b9c053224192ecc6dcb19f909883e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45642740d08894a7c7329eb829f6f2aa"><td class="memItemLeft" align="right" valign="top"><a id="a45642740d08894a7c7329eb829f6f2aa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setLogger</b> (ILoggerPtr logger)</td></tr>
<tr class="separator:a45642740d08894a7c7329eb829f6f2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac928c8cb0c26cd36ee3f7e90ca7f9f1e"><td class="memItemLeft" align="right" valign="top"><a id="ac928c8cb0c26cd36ee3f7e90ca7f9f1e"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmicrosoft_1_1quantum_1_1_transformation_rules_pass.html#ac928c8cb0c26cd36ee3f7e90ca7f9f1e">isRequired</a> ()</td></tr>
<tr class="memdesc:ac928c8cb0c26cd36ee3f7e90ca7f9f1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not this pass is required to run. <br /></td></tr>
<tr class="separator:ac928c8cb0c26cd36ee3f7e90ca7f9f1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class applies a set of transformation rules to the IR to transform it into a new IR. The rules are added using the <a class="el" href="classmicrosoft_1_1quantum_1_1_rule_set.html">RuleSet</a> class which allows the developer to create one or more rules on how to transform the IR.</p>
<p>The module executes the following steps: ┌─────────────────┐ │ Apply profile │ └─────────────────┘ │ ┌───────────────────────────────┐ ├───────────────▶│ Copy and expand functions │──┐ │ clone └───────────────────────────────┘ │ │ functions? │ delete dead │ │ ▼ code? │ │ ┌───────────────────────────────┐ │ ├───────────────▶│ Determine active code │ │ │ delete dead └───────────────────────────────┘ │ │ code? │ │ leave dead │ ▼ │ code? │ ┌───────────────────────────────┐ │ │ │ Simplify phi nodes │ │ │ └───────────────────────────────┘ │ │ │ │ │ ▼ │ │ ┌───────────────────────────────┐ │ │ │ Delete dead code │ │ │ └───────────────────────────────┘ │ │ │ │ │ ▼ │ │ fallback ┌───────────────────────────────┐ │ └───────────────▶│ Apply rules │◀─┘ └───────────────────────────────┘</p>
<p>Copying and expanding functions identifies function calls and identifies compile time constants passed to the function. It then copies the full implementation of the function, replacing all compile-time constants (and hence changing the function signature). That is, if a function call <code>f(x, 9)</code> is identified, it is replaced with <code>f.1(x)</code> where <code>f.1</code> is a copy of <code>f</code> with second argument written into the function. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a213929ddf4a326cc4f0e049c402ab9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a213929ddf4a326cc4f0e049c402ab9af">&#9670;&nbsp;</a></span>copyAndExpand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llvm::Value * microsoft::quantum::TransformationRulesPass::copyAndExpand </td>
          <td>(</td>
          <td class="paramtype">llvm::Value *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DeletableInstructions &amp;&#160;</td>
          <td class="paramname"><em>schedule_instruction_deletion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test whether the instruction is a call instruction and copy the callee in case it is. This function collects instructions which are scheduled for deletion at a later point. </p>

</div>
</div>
<a id="a00addfd679de49affe569810b6cd79f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00addfd679de49affe569810b6cd79f3">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llvm::PreservedAnalyses microsoft::quantum::TransformationRulesPass::run </td>
          <td>(</td>
          <td class="paramtype">llvm::Module &amp;&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::ModuleAnalysisManager &amp;&#160;</td>
          <td class="paramname"><em>mam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements the transformation analysis which uses the supplied ruleset to make substitutions in each function. </p>

</div>
</div>
<a id="adc26444e98922ba682254232d46be841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc26444e98922ba682254232d46be841">&#9670;&nbsp;</a></span>runCopyAndExpand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void microsoft::quantum::TransformationRulesPass::runCopyAndExpand </td>
          <td>(</td>
          <td class="paramtype">llvm::Module &amp;&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::ModuleAnalysisManager &amp;&#160;</td>
          <td class="paramname"><em>mam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main function for running the copy and expand functionality. This function first identifies the entry point and then follows every execution path to copy the callee function for every call instruction encountered. This makes that every call in the code has its own unique callee function which ensures that when allocating qubits or results, the assigned registers are not accidentally reused. </p>

</div>
</div>
<a id="acddcbb6d2c3664db23f00db0f5138ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acddcbb6d2c3664db23f00db0f5138ea3">&#9670;&nbsp;</a></span>runOnFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool microsoft::quantum::TransformationRulesPass::runOnFunction </td>
          <td>(</td>
          <td class="paramtype">llvm::Function &amp;&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InstructionModifier const &amp;&#160;</td>
          <td class="paramname"><em>modifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generic function to apply a instructionModifier (lambda function) to every instruction in the function <code>function</code>. This method follows the execution path to the extend possible and deals with branching if the branch statement can be evaluated at compile time. </p>

</div>
</div>
<a id="aec2f95af82310283c7ec1457fea6f7e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec2f95af82310283c7ec1457fea6f7e7">&#9670;&nbsp;</a></span>runReplacePhi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void microsoft::quantum::TransformationRulesPass::runReplacePhi </td>
          <td>(</td>
          <td class="paramtype">llvm::Module &amp;&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::ModuleAnalysisManager &amp;&#160;</td>
          <td class="paramname"><em>mam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function which replaces phi nodes which refer to inactive blocks. That is, in cases where branch statement evaluates at compile time, only one block will be marked as active. For those case we can eliminate the phi nodes. In the case where branch statements cannot be evaluated all are marked as active. In this case, phi nodes are left unchanged. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>TransformationRulesPass/<a class="el" href="_transformation_rules_pass_8hpp_source.html">TransformationRulesPass.hpp</a></li>
<li>TransformationRulesPass/TransformationRulesPass.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
